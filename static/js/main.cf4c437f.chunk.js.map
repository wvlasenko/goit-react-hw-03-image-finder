{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Loader/Loader.module.css","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","components/ModalImage/ModalImage.js","service/api.js","components/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","inputValue","onInputValue","e","target","name","value","setState","onSubmitSearchForm","preventDefault","props","onSubmitForm","this","className","SearchbarStl","searchbar","id","onSubmit","form","type","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","webformatURL","alt","largeImageURL","onImageClick","src","ImageGalleryItemStl","image","data-largeimageurl","data-id","onClick","url","dataset","largeimageurl","ImageGallery","images","ImageGalleryStyle","gallery","map","item","tags","Button","text","buttonAction","ButtonStl","container","App","LoaderStl","loader","color","height","width","timeout","Modal","pressEscBtn","code","onCloseModal","window","addEventListener","removeEventListener","children","ModalStl","overlay","modal","ModalImage","largeImage","protoType","PropTypes","exact","string","isRequired","fetchImageWithKeyword","keyword","page","axios","get","then","response","console","log","data","loading","error","lastPage","query","saveLargeImage","hideLargeImage","isLastPage","length","totalHits","fetchImage","imageApi","prevState","hits","catch","finally","prevProps","scrollDown","scrollTo","top","document","documentElement","scrollHeight","behavior","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,8BAA8B,KAAO,6B,mBCAjED,EAAOC,QAAU,CAAC,UAAY,0BAA0B,OAAS,yB,mBCAjED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,MAAQ,kC,mBCA1BD,EAAOC,QAAU,CAAC,OAAS,yB,oKCqDZC,E,4MAjDXC,MAAQ,CACJC,WAAY,I,EAGhBC,aAAe,SAAAC,GAAM,IAAD,EACQA,EAAEC,OAAlBC,EADQ,EACRA,KAAMC,EADE,EACFA,MACd,EAAKC,SAAL,eAAiBF,EAAOC,K,EAG5BE,mBAAqB,SAAAL,GACjBA,EAAEM,iBADoB,IAEdR,EAAe,EAAKD,MAApBC,WACR,EAAKS,MAAMC,aAAaV,GACxB,EAAKM,SAAS,CAAEN,WAAY,M,uDAGtB,IACEA,EAAeW,KAAKZ,MAApBC,WACR,OACI,wBAAQY,UAAWC,IAAaC,UAAhC,SACI,uBACIC,GAAG,OACHC,SAAUL,KAAKJ,mBACfK,UAAWC,IAAaI,KAH5B,UAKI,wBAAQC,KAAK,SAASN,UAAWC,IAAaM,OAA9C,SACI,sBAAMP,UAAWC,IAAaO,MAA9B,sBAEJ,uBACIR,UAAWC,IAAaQ,MACxBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZpB,KAAK,aACLC,MAAOL,EACPe,GAAG,QACHU,SAAUd,KAAKV,wB,GAtCfyB,a,iBC+BTC,MAhCf,YAMI,IALFC,EAKC,EALDA,aACAC,EAIC,EAJDA,IACAC,EAGC,EAHDA,cACAf,EAEC,EAFDA,GACAgB,EACC,EADDA,aAQA,OACE,qBACEC,IAAKJ,EACLC,IAAKA,EACLjB,UAAWqB,IAAoBC,MAC/BC,qBAAoBL,EACpBM,UAASrB,EACTsB,QAbqB,SAAAnC,GACvB6B,EAAa,CACXO,IAAKpC,EAAEC,OAAOoC,QAAQC,cACtBX,IAAK3B,EAAEC,OAAO0B,U,iBCoBLY,MA7Bf,YAAiD,IAAzBC,EAAwB,EAAxBA,OAAQX,EAAgB,EAAhBA,aAC9B,OACE,oBAAInB,UAAW+B,IAAkBC,QAAjC,SACGF,EAAOG,KAAI,SAAAX,GAAK,OACf,oBAAmBtB,UAAW+B,IAAkBG,KAAhD,SACE,cAAC,EAAD,CACElB,aAAcM,EAAMN,aACpBC,IAAKK,EAAMa,KACXjB,cAAeI,EAAMJ,cACrBf,GAAImB,EAAMnB,GACVgB,aAAcA,KANTG,EAAMnB,U,iBCSRiC,MAdf,YAAyC,IAAvBC,EAAsB,EAAtBA,KAAMC,EAAgB,EAAhBA,aACtB,OACE,qBAAKtC,UAAWuC,IAAUC,UAA1B,SACE,wBAAQlC,KAAK,SAASmB,QAASa,EAActC,UAAWuC,IAAUhC,OAAlE,SACG8B,O,kCCHYI,E,uKAEjB,OACE,qBAAKzC,UAAW0C,IAAUC,OAA1B,SACE,cAAC,IAAD,CACErC,KAAK,OACLsC,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,Y,GATcjC,a,iBCgClBkC,E,4MAtBbC,YAAc,SAAA3D,GACG,WAAXA,EAAE4D,MACJ,EAAKrD,MAAMsD,gB,kEAVbC,OAAOC,iBAAiB,UAAWtD,KAAKkD,e,6CAIxCG,OAAOE,oBAAoB,UAAWvD,KAAKkD,aAC3ClD,KAAKF,MAAMsD,iB,+BASH,IAAD,EAC4BpD,KAAKF,MAAhCsD,EADD,EACCA,aAAcI,EADf,EACeA,SAEtB,OACE,qBAAKvD,UAAWwD,IAASC,QAAShC,QAAS0B,EAA3C,SACE,qBAAKnD,UAAWwD,IAASE,MAAzB,SAAiCH,U,GArBrBzC,a,gBCDpB,SAAS6C,EAAT,GAAqC,IAAfC,EAAc,EAAdA,WACV3C,EAAa2C,EAAb3C,IAAKS,EAAQkC,EAARlC,IACb,OAAO,qBAAKN,IAAKM,EAAKT,IAAKA,IAG/B0C,EAAWE,UAAY,CACnBD,WAAYE,IAAUC,MAAM,CACxB9C,IAAK6C,IAAUE,OAAOC,WACtBvC,IAAKoC,IAAUE,OAAOC,aACvBA,YAGQN,Q,iBCHAO,EAVe,SAACC,EAASC,GACpC,OAAOC,IACFC,IADE,uCAFI,qCAEJ,cAE6CH,EAF7C,kCAE8EC,EAF9E,iBAIFG,MAAK,SAAAC,GAEF,OADAC,QAAQC,IAAIF,EAASG,MACdH,EAASG,SC6FblC,E,4MA7FXtD,MAAQ,CACJ2C,OAAQ,GACRZ,cAAe,KACf0D,SAAS,EACTC,MAAO,KACPV,QAAS,GACTC,KAAM,EACNU,UAAU,G,EAYdhF,aAAe,SAAAiF,GACX,EAAKrF,SAAS,CACVyE,QAASY,EACTX,KAAM,EACNtC,OAAQ,GACRgD,UAAU,K,EAIlBE,eAAiB,SAAA9D,GACb,EAAKxB,SAAS,CAAEwB,cAAeA,K,EAGnC+D,eAAiB,WACb,EAAKvF,SAAS,CAAEwB,cAAe,Q,EAGnCgE,WAAa,SAAAP,GACTF,QAAQC,IAAI,EAAKvF,MAAM2C,OAAOqD,QAC9BV,QAAQC,IAAIC,EAAKS,WACb,EAAKjG,MAAM2C,OAAOqD,SAAWR,EAAKS,WAClC,EAAK1F,SAAS,CAAEoF,UAAU,K,EAWlCO,WAAa,WAAO,IAAD,EACW,EAAKlG,MAAvBgF,EADO,EACPA,QAASC,EADF,EACEA,KACjB,EAAK1E,SAAS,CAAEkF,SAAS,IACzBU,EAASnB,EAASC,GACbG,MAAK,SAAAI,GACF,EAAKjF,UAAS,SAAA6F,GAAS,MAAK,CACxBzD,OAAO,GAAD,mBAAMyD,EAAUzD,QAAhB,YAA2B6C,EAAKa,OACtCpB,KAAMmB,EAAUnB,KAAO,MAG3B,EAAKc,WAAWP,MAEnBc,OAAM,SAAAZ,GAAK,OAAI,EAAKnF,SAAS,CAAEmF,aAC/Ba,SAAQ,kBAAM,EAAKhG,SAAS,CAAEkF,SAAS,Q,iEAtD7Be,EAAWJ,GACtBA,EAAUpB,UAAYpE,KAAKZ,MAAMgF,SACjCpE,KAAKsF,aAELtF,KAAKZ,MAAMiF,KAAO,GAAKmB,EAAUnB,OAASrE,KAAKZ,MAAMiF,MACrDrE,KAAK6F,e,mCA8BTxC,OAAOyC,SAAS,CACZC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,a,+BAoBR,IAAD,EACuDnG,KAAKZ,MAAzD2C,EADH,EACGA,OAAQ8C,EADX,EACWA,QAASC,EADpB,EACoBA,MAAO3D,EAD3B,EAC2BA,cAAe4D,EAD1C,EAC0CA,SAC/C,OACI,qCACI,cAAC,EAAD,CAAWhF,aAAcC,KAAKD,eAC7BgC,EAAOqD,OAAS,GACb,cAAC,EAAD,CACIrD,OAAQA,EACRX,aAAcpB,KAAKiF,iBAG1B9D,GACG,cAAC,EAAD,CAAOiC,aAAcpD,KAAKkF,eAA1B,SACI,cAAC,EAAD,CAAYrB,WAAY1C,MAG/BY,EAAOqD,OAAS,IAAML,IAAaF,GAChC,cAAC,EAAD,CAAQvC,KAAK,YAAYC,aAAcvC,KAAKsF,aAE/CT,GAAW,cAAC,EAAD,IACXC,GAAS,6C,GAxFR/D,a,MCHlBqF,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJN,SAASO,eAAe,U,kBCR5BtH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,0BAA0B,MAAQ,yBAAyB,MAAQ,4B","file":"static/js/main.cf4c437f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1jiyh\",\"item\":\"ImageGallery_item__1mwfy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Button_container__1JNRq\",\"button\":\"Button_button__1grbs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3-f8x\",\"modal\":\"Modal_modal__7yBU7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__31A9C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__WPs9Y\"};","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport SearchbarStl from './Searchbar.module.css';\r\n\r\nclass Searchbar extends Component {\r\n    state = {\r\n        inputValue: '',\r\n    };\r\n\r\n    onInputValue = e => {\r\n        const { name, value } = e.target;\r\n        this.setState({ [name]: value });\r\n    };\r\n\r\n    onSubmitSearchForm = e => {\r\n        e.preventDefault();\r\n        const { inputValue } = this.state;\r\n        this.props.onSubmitForm(inputValue);\r\n        this.setState({ inputValue: '' });\r\n    };\r\n\r\n    render() {\r\n        const { inputValue } = this.state;\r\n        return (\r\n            <header className={SearchbarStl.searchbar}>\r\n                <form\r\n                    id=\"form\"\r\n                    onSubmit={this.onSubmitSearchForm}\r\n                    className={SearchbarStl.form}\r\n                >\r\n                    <button type=\"submit\" className={SearchbarStl.button}>\r\n                        <span className={SearchbarStl.label}>Search</span>\r\n                    </button>\r\n                    <input\r\n                        className={SearchbarStl.input}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                        name=\"inputValue\"\r\n                        value={inputValue}\r\n                        id=\"input\"\r\n                        onChange={this.onInputValue}\r\n                    />\r\n                </form>\r\n            </header>\r\n        );\r\n    }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n    onSubmitForm: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItemStl from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({\r\n  webformatURL,\r\n  alt,\r\n  largeImageURL,\r\n  id,\r\n  onImageClick,\r\n}) {\r\n  const getlargeImageURL = e => {\r\n    onImageClick({\r\n      url: e.target.dataset.largeimageurl,\r\n      alt: e.target.alt,\r\n    });\r\n  };\r\n  return (\r\n    <img\r\n      src={webformatURL}\r\n      alt={alt}\r\n      className={ImageGalleryItemStl.image}\r\n      data-largeimageurl={largeImageURL}\r\n      data-id={id}\r\n      onClick={getlargeImageURL}\r\n    />\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  alt: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  id: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import PropTypes from 'prop-types';\r\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport ImageGalleryStyle from './ImageGallery.module.css';\r\n\r\nfunction ImageGallery({ images, onImageClick }) {\r\n  return (\r\n    <ul className={ImageGalleryStyle.gallery}>\r\n      {images.map(image => (\r\n        <li key={image.id} className={ImageGalleryStyle.item}>\r\n          <ImageGalleryItem\r\n            webformatURL={image.webformatURL}\r\n            alt={image.tags}\r\n            largeImageURL={image.largeImageURL}\r\n            id={image.id}\r\n            onImageClick={onImageClick}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n  onImageClick: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGallery;\r\n","import PropTypes from 'prop-types';\r\nimport ButtonStl from './Button.module.css';\r\n\r\nfunction Button({ text, buttonAction }) {\r\n  return (\r\n    <div className={ButtonStl.container}>\r\n      <button type=\"button\" onClick={buttonAction} className={ButtonStl.button}>\r\n        {text}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n  buttonAction: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import { Component } from 'react';\r\nimport Loader from 'react-loader-spinner';\r\nimport LoaderStl from './Loader.module.css';\r\n\r\nexport default class App extends Component {\r\n  render() {\r\n    return (\r\n      <div className={LoaderStl.loader}>\r\n        <Loader\r\n          type=\"Puff\"\r\n          color=\"#0F7A8F\"\r\n          height={50}\r\n          width={50}\r\n          timeout={2000}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport ModalStl from './Modal.module.css';\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.pressEscBtn);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.pressEscBtn);\r\n    this.props.onCloseModal();\r\n  }\r\n\r\n  pressEscBtn = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onCloseModal();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { onCloseModal, children } = this.props;\r\n\r\n    return (\r\n      <div className={ModalStl.overlay} onClick={onCloseModal}>\r\n        <div className={ModalStl.modal}>{children}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  onCloseModal: PropTypes.func.isRequired,\r\n  children: PropTypes.node.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ModalImage({ largeImage }) {\r\n    const { alt, url } = largeImage;\r\n    return <img src={url} alt={alt} />;\r\n}\r\n\r\nModalImage.protoType = {\r\n    largeImage: PropTypes.exact({\r\n        alt: PropTypes.string.isRequired,\r\n        url: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n};\r\n\r\nexport default ModalImage;\r\n","import axios from 'axios';\r\nconst apiKey = '19799176-4c87c41e9b3623f80b0424cac';\r\nconst fetchImageWithKeyword = (keyword, page) => {\r\n    return axios\r\n        .get(\r\n            `https://pixabay.com/api/?key=${apiKey}&q=${keyword}&image_type=photo&page=${page}&per_page=12`,\r\n        )\r\n        .then(response => {\r\n            console.log(response.data);\r\n            return response.data;\r\n        });\r\n};\r\nexport default fetchImageWithKeyword;\r\n","import { Component } from 'react';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Loader from './Loader/Loader';\nimport Modal from './Modal/Modal';\nimport ModalImage from './ModalImage/ModalImage';\nimport imageApi from '../service/api';\nclass App extends Component {\n    state = {\n        images: [],\n        largeImageURL: null,\n        loading: false,\n        error: null,\n        keyword: '',\n        page: 1,\n        lastPage: false,\n    };\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.keyword !== this.state.keyword) {\n            this.fetchImage();\n        }\n        if (this.state.page > 2 && prevState.page !== this.state.page) {\n            this.scrollDown();\n        }\n    }\n\n    onSubmitForm = query => {\n        this.setState({\n            keyword: query,\n            page: 1,\n            images: [],\n            lastPage: false,\n        });\n    };\n\n    saveLargeImage = largeImageURL => {\n        this.setState({ largeImageURL: largeImageURL });\n    };\n\n    hideLargeImage = () => {\n        this.setState({ largeImageURL: null });\n    };\n\n    isLastPage = data => {\n        console.log(this.state.images.length);\n        console.log(data.totalHits);\n        if (this.state.images.length === data.totalHits) {\n            this.setState({ lastPage: true });\n        }\n    };\n\n    scrollDown() {\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n        });\n    }\n\n    fetchImage = () => {\n        const { keyword, page } = this.state;\n        this.setState({ loading: true });\n        imageApi(keyword, page)\n            .then(data => {\n                this.setState(prevState => ({\n                    images: [...prevState.images, ...data.hits],\n                    page: prevState.page + 1,\n                }));\n\n                this.isLastPage(data);\n            })\n            .catch(error => this.setState({ error }))\n            .finally(() => this.setState({ loading: false }));\n    };\n\n    render() {\n        const { images, loading, error, largeImageURL, lastPage } = this.state;\n        return (\n            <>\n                <Searchbar onSubmitForm={this.onSubmitForm} />\n                {images.length > 0 && (\n                    <ImageGallery\n                        images={images}\n                        onImageClick={this.saveLargeImage}\n                    />\n                )}\n                {largeImageURL && (\n                    <Modal onCloseModal={this.hideLargeImage}>\n                        <ModalImage largeImage={largeImageURL} />\n                    </Modal>\n                )}\n                {images.length > 0 && !lastPage && !loading && (\n                    <Button text=\"Load more\" buttonAction={this.fetchImage} />\n                )}\n                {loading && <Loader />}\n                {error && <p>ERROR</p>}\n            </>\n        );\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './components/style.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3Vnfc\",\"form\":\"Searchbar_form__2HRZN\",\"button\":\"Searchbar_button__fTBgF\",\"label\":\"Searchbar_label__1X4DT\",\"input\":\"Searchbar_input__KbjVy\"};"],"sourceRoot":""}